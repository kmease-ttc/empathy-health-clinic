import{aa as K,G as i,ab as V,al as G,j as e,ac as A,ad as q,ae as X,ap as J,aq as Q,a9 as O,n as Y,N as $,Q as U,f as Z,B as E,m as ee,W as k,v as se,y as te,r as ae,t as T,a1 as re}from"./index-CgsemtNf.js";import{u as ne,F as oe,a as g,b as v,c as y,d as N,e as w,o as ie,s as f,a9 as ce,t as le}from"./form-BhnXJzrv.js";var P="Checkbox",[de,je]=K(P),[me,ue]=de(P),L=i.forwardRef((t,l)=>{const{__scopeCheckbox:a,name:d,checked:x,defaultChecked:n,required:r,disabled:o,value:m="on",onCheckedChange:b,form:s,...S}=t,[u,C]=i.useState(null),F=V(l,c=>C(c)),R=i.useRef(!1),_=u?s||!!u.closest("form"):!0,[p=!1,I]=G({prop:x,defaultProp:n,onChange:b}),z=i.useRef(p);return i.useEffect(()=>{const c=u==null?void 0:u.form;if(c){const j=()=>I(z.current);return c.addEventListener("reset",j),()=>c.removeEventListener("reset",j)}},[u,I]),e.jsxs(me,{scope:a,state:p,disabled:o,children:[e.jsx(A.button,{type:"button",role:"checkbox","aria-checked":h(p)?"mixed":p,"aria-required":r,"data-state":B(p),"data-disabled":o?"":void 0,disabled:o,value:m,...S,ref:F,onKeyDown:q(t.onKeyDown,c=>{c.key==="Enter"&&c.preventDefault()}),onClick:q(t.onClick,c=>{I(j=>h(j)?!0:!j),_&&(R.current=c.isPropagationStopped(),R.current||c.stopPropagation())})}),_&&e.jsx(he,{control:u,bubbles:!R.current,name:d,value:m,checked:p,required:r,disabled:o,form:s,style:{transform:"translateX(-100%)"},defaultChecked:h(n)?!1:n})]})});L.displayName=P;var M="CheckboxIndicator",D=i.forwardRef((t,l)=>{const{__scopeCheckbox:a,forceMount:d,...x}=t,n=ue(M,a);return e.jsx(X,{present:d||h(n.state)||n.state===!0,children:e.jsx(A.span,{"data-state":B(n.state),"data-disabled":n.disabled?"":void 0,...x,ref:l,style:{pointerEvents:"none",...t.style}})})});D.displayName=M;var he=t=>{const{control:l,checked:a,bubbles:d=!0,defaultChecked:x,...n}=t,r=i.useRef(null),o=J(a),m=Q(l);i.useEffect(()=>{const s=r.current,S=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(S,"checked").set;if(o!==a&&C){const F=new Event("click",{bubbles:d});s.indeterminate=h(a),C.call(s,h(a)?!1:a),s.dispatchEvent(F)}},[o,a,d]);const b=i.useRef(h(a)?!1:a);return e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:x??b.current,...n,tabIndex:-1,ref:r,style:{...t.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function h(t){return t==="indeterminate"}function B(t){return h(t)?"indeterminate":t?"checked":"unchecked"}var H=L,xe=D;const W=i.forwardRef(({className:t,...l},a)=>e.jsx(H,{ref:a,className:O("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...l,children:e.jsx(xe,{className:O("flex items-center justify-center text-current"),children:e.jsx(Y,{className:"h-4 w-4"})})}));W.displayName=H.displayName;const pe=ie({firstName:f().min(1,"First name is required"),lastName:f().min(1,"Last name is required"),email:f().email("Valid email is required"),phone:f().min(10,"Valid phone number is required"),smsOptIn:ce().default(!1),service:f().optional(),hp_website:f().optional()});function ge({service:t,className:l=""}){const{toast:a}=$(),[d,x]=i.useState(!1),n=i.useRef(!1),r=ne({resolver:le(pe),defaultValues:{firstName:"",lastName:"",email:"",phone:"",smsOptIn:!1,service:t||"",hp_website:""}}),o=()=>{n.current||(n.current=!0,T("form_started","engagement","Short Contact Form","short"))},m=U({mutationFn:async s=>re("POST","/api/leads",{...s,smsOptIn:s.smsOptIn?"true":"false",formType:"short",hp_website:s.hp_website||""}),onSuccess:()=>{x(!0),T("form_submission","conversion","Short Contact Form",t)},onError:()=>{a({variant:"destructive",title:"Error",description:"Failed to submit request. Please try again."})}}),b=s=>{m.mutate(s)};return d?e.jsx("div",{className:l,children:e.jsxs("div",{className:"bg-card border-2 border-primary/20 rounded-2xl shadow-lg p-6 md:p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:e.jsx(Z,{className:"h-10 w-10 text-primary"})}),e.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-foreground mb-3",children:"Request Received!"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Thank you for reaching out. We'll contact you within 24 hours to confirm your appointment."}),e.jsxs("div",{className:"bg-background border rounded-lg p-4 mb-6 text-left",children:[e.jsx("h4",{className:"font-semibold text-foreground mb-3",children:"What Happens Next?"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-primary font-bold",children:"1."}),e.jsx("span",{className:"text-muted-foreground",children:"Our team reviews your request"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-primary font-bold",children:"2."}),e.jsx("span",{className:"text-muted-foreground",children:"We call you to schedule within 24 hours"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-primary font-bold",children:"3."}),e.jsx("span",{className:"text-muted-foreground",children:"You attend your first session"})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[e.jsx(E,{variant:"outline",asChild:!0,children:e.jsx("a",{href:"tel:3868488751",children:"Call (386) 848-8751"})}),e.jsx(E,{variant:"outline",asChild:!0,children:e.jsx("a",{href:"/",children:"Return to Home"})})]})]})}):e.jsx("div",{className:l,children:e.jsxs("div",{className:"bg-card border rounded-lg overflow-hidden",children:[e.jsx("div",{className:"bg-primary/10 border-b px-6 py-3",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-primary font-semibold",children:[e.jsx(ee,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Same-Day Appointments Available"})]})}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-2xl font-sans font-bold text-foreground mb-2",children:"Request an Appointment"}),e.jsx("p",{className:"text-muted-foreground text-sm mb-6",children:"Most patients scheduled within 24 hours • All insurance accepted"}),e.jsx(oe,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(b),className:"space-y-4",children:[e.jsxs("div",{className:"hp-field","aria-hidden":"true",children:[e.jsx("label",{htmlFor:"hp_website_short",children:"Website"}),e.jsx("input",{type:"text",id:"hp_website_short",...r.register("hp_website"),autoComplete:"off",tabIndex:-1})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(g,{control:r.control,name:"firstName",render:({field:s})=>e.jsxs(v,{children:[e.jsx(y,{children:"First Name"}),e.jsx(N,{children:e.jsx(k,{placeholder:"John",...s,autoComplete:"given-name",onFocus:o,"data-testid":"input-first-name"})}),e.jsx(w,{})]})}),e.jsx(g,{control:r.control,name:"lastName",render:({field:s})=>e.jsxs(v,{children:[e.jsx(y,{children:"Last Name"}),e.jsx(N,{children:e.jsx(k,{placeholder:"Doe",...s,autoComplete:"family-name",onFocus:o,"data-testid":"input-last-name"})}),e.jsx(w,{})]})})]}),e.jsx(g,{control:r.control,name:"email",render:({field:s})=>e.jsxs(v,{children:[e.jsx(y,{children:"Email"}),e.jsx(N,{children:e.jsx(k,{type:"email",placeholder:"john@example.com",...s,autoComplete:"email",onFocus:o,"data-testid":"input-email"})}),e.jsx(w,{})]})}),e.jsx(g,{control:r.control,name:"phone",render:({field:s})=>e.jsxs(v,{children:[e.jsx(y,{children:"Phone"}),e.jsx(N,{children:e.jsx(k,{type:"tel",placeholder:"(386) 555-1234",...s,autoComplete:"tel",onFocus:o,"data-testid":"input-phone"})}),e.jsx(w,{})]})}),e.jsx(g,{control:r.control,name:"smsOptIn",render:({field:s})=>e.jsxs(v,{className:"flex flex-row items-start space-x-3 space-y-0",children:[e.jsx(N,{children:e.jsx(W,{checked:s.value,onCheckedChange:s.onChange,"data-testid":"checkbox-sms-opt-in"})}),e.jsx("div",{className:"space-y-1 leading-none",children:e.jsx(y,{className:"text-sm font-normal cursor-pointer",children:"I agree to receive SMS notifications about my appointment"})})]})}),e.jsxs("div",{className:"sticky bottom-0 left-0 right-0 bg-card border-t p-5 mt-4",style:{zIndex:60,paddingBottom:"max(1.25rem, env(safe-area-inset-bottom))"},children:[e.jsxs("div",{className:"mb-4 flex items-center justify-center gap-4 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(se,{className:"h-3 w-3"}),e.jsx("span",{children:"HIPAA Compliant"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(te,{className:"h-3 w-3"}),e.jsx("span",{children:"100% Confidential"})]})]}),e.jsx(E,{type:"submit",className:"w-full text-lg font-semibold min-h-11",size:"lg",disabled:m.isPending,"data-testid":"button-submit-form",children:m.isPending?"Submitting...":"Get Scheduled Today"}),e.jsxs("p",{className:"text-center text-xs text-muted-foreground mt-3 flex items-center justify-center gap-1",children:[e.jsx(ae,{className:"h-3 w-3"}),e.jsx("span",{children:"Response within 24 hours • Same-day scheduling available"})]})]})]})})]})]})})}export{ge as S};
